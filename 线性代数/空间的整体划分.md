# 线性映射与矩阵方程的几何结构解析


$$
\begin{aligned}
 A: \mathbb{R}^n & \longrightarrow \mathbb{R}^m \\
 \text{domain}, &\text{codomain} \\
 \mathbb{R}^n = \mathrm{Null}(A) \oplus \mathrm{Null}(A)^\perp,& \quad \mathbb{R}^m = \mathrm{Col}(A) \oplus \mathrm{Col}(A)^\perp
\end{aligned}
$$

其中
$$
\dim(\mathrm{Null}(A)^\perp)=\dim(\mathrm{Col}(A))=\mathrm{rank}(A),\quad 
\mathrm{rank}(A)+\mathrm{nullity}(A)=n.
$$

## 1. 两个空间与矩阵映射

线性方程组
$$
A x = b
$$
本质是一个线性映射
$$
A:\ \mathbb{R}^n \longrightarrow \mathbb{R}^m
$$
**输入空间**（或称定义域）是 $\mathbb{R}^n$ 
**输出空间**（或称目标空间）是 $\mathbb{R}^m$ 


## 2. 输入空间的结构划分

输入空间的两个关键子空间：

1. **零空间**
 $$
 \mathrm{Null}(A) = \{x \in \mathbb{R}^n \mid A x = 0\}
 $$
 - 属于这里的所有输入向量映射到输出空间的 **零向量**
 - 维数： $\;n - \mathrm{rank}(A)$ 

2. **零空间的正交补**
 $$
 \mathrm{Null}(A)^\perp
 $$
 - 与零空间方向垂直
 - 在这个子空间中的输入，**不会被映射成零**（除非本身是 0）
 - 经 $A$ 映射会张成输出空间中的 **列空间 Col(A)**
 - 维数： $\mathrm{rank}(A)$ 

**输入空间正交分解**：
$$
\mathbb{R}^n = \mathrm{Null}(A) \ \oplus\ \mathrm{Null}(A)^\perp
$$
每个输入都可以唯一写成：
$$
x = x_{\perp} + x_{\mathrm{null}}
$$
其中 $x_{\perp}\in \mathrm{Null}(A)^\perp$ ， $x_{\mathrm{null}}\in\mathrm{Null}(A)$ 


## 3. 输出空间的结构划分

类似地，输出空间中有两个重要的子空间：

1. **列空间**
 $$
 \mathrm{Col}(A) = \{Ax \mid x\in\mathbb{R}^n\}
 $$
 - 又称**值域**（range/image）
 - 是所有方程右端 $b$ 可能出现的集合
 - 维数： $\mathrm{rank}(A)$ 

2. **列空间的正交补**
 $$
 \mathrm{Col}(A)^\perp
 $$
 - 正好是 $A^T$ 的零空间：
 $$
 \mathrm{Col}(A)^\perp = \mathrm{Null}(A^T)
 $$
 - 包含所有与 $\mathrm{Col}(A)$ 垂直的向量 $b$ 
 - 如果 $b$ 有这部分分量，那么 $Ax = b$ 无解（除非这一部分全为零）

**输出空间正交分解**：
$$
\mathbb{R}^m = \mathrm{Col}(A) \ \oplus\ \mathrm{Col}(A)^\perp
$$



## 4. 维数关系总结（Rank–Nullity 定理的对称体现）

设 $r = \mathrm{rank}(A)$ ，则有：

| 所在空间                | 子空间                                       | 维数    | 关系式          |
| ----------------------- | -------------------------------------------- | ------- | --------------- |
| 输入空间 $\mathbb{R}^n$ | $\mathrm{Null}(A)$                           | $n - r$ | $n = (n-r) + r$ |
|                         | $\mathrm{Null}(A)^\perp$                     | $r$     |                 |
| 输出空间 $\mathbb{R}^m$ | $\mathrm{Col}(A)$                            | $r$     | $m = r + (m-r)$ |
|                         | $\mathrm{Null}(A^T) = \mathrm{Col}(A)^\perp$ | $m - r$ |                 |

**秩–零化度公式**：
$$
\boxed{
\begin{aligned}
&\mathrm{rank}(A) + \mathrm{nullity}(A) = n \\
&\mathrm{rank}(A) + \mathrm{nullity}(A^T) = m
\end{aligned}
}
$$



## 5. 解集的整体几何结构

对于任意 $b\in\mathbb{R}^m$ ：

- **若** $b \in \mathrm{Col}(A)$ ，则方程有解：
 所有解形成一个仿射子空间：
 $$
 \{x_{\perp} + x_{\mathrm{null}} \mid x_{\perp} \text{是使 } Ax=b \text{ 的某个解},\ x_{\mathrm{null}}\in\mathrm{Null}(A)\}
 $$
 即 **所有解 = 任一解 + 零空间 Null(A)**

- **若** $b \notin \mathrm{Col}(A)$ ，则无解：
 最接近的解为最小二乘解（把 $b$ 投影到 $\mathrm{Col}(A)$ 上）



## 6. 关键对称性

- 输入空间的 $\mathrm{Null}(A)$ 映射成 0（信息丢失方向）
- 输入空间的 $\mathrm{Null}(A)^\perp$ 映射到输出空间的 $\mathrm{Col}(A)$ （信息保留方向）
- 输出空间的 $\mathrm{Col}(A)^\perp$ 是 **无解原因所在** 的方向


## 7. 总结（结构层面）

- **输入空间的分解**：
 $$
 R^n = \mathrm{Null}(A) \oplus \mathrm{Null}(A)^\perp
 $$
 - $\mathrm{Null}(A)$ → 映射为 0
 - $\mathrm{Null}(A)^\perp$ → 一一对应到 Col(A)

- **输出空间的分解**：
 $$
 R^m = \mathrm{Col}(A) \oplus \mathrm{Col}(A)^\perp
 $$
 - $\mathrm{Col}(A)$ = 实际可到达的 b
 - $\mathrm{Col}(A)^\perp$ = 无法到达的方向（会造成无解）

- 整个解集是一个“正交分解 + 平移”的结构：
 先在输出空间检查 b 是否在 $\mathrm{Col}(A)$ ，若在，则输入空间的所有解是“某个 $\mathrm{Null}(A)^\perp$ 中的向量”加上整个 $\mathrm{Null}(A)$ 子空间。

